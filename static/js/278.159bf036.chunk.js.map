{"version":3,"file":"static/js/278.159bf036.chunk.js","mappings":"kOAuDA,UAnDA,WACE,OAA2BA,EAAAA,EAAAA,UAAS,MAApC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SAEzBC,GAAWC,EAAAA,EAAAA,MAqBjB,OAnBAC,EAAAA,EAAAA,YAAU,WAAM,wCAGd,qGACqBC,EAAAA,EAAAA,IAAkBL,GADvC,OACQM,EADR,OAEEV,EAASU,GAFX,4CAHc,sBACA,OAAVN,GAA4B,KAAVA,GADR,mCAOdO,EACD,GAAE,CAACP,IASJQ,QAAQC,IAAId,IAGV,iCACE,kBAAMe,SAXW,SAACC,GACpBA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,OACnBf,EAAgB,CAAEC,MAAOa,EAAKE,SAASf,MAAMgB,QAC7CH,EAAKI,OACN,EAMG,WACE,kBAAOC,KAAK,OAAOC,KAAK,WACxB,0CAEDxB,IACC,iCACA,oCACE,wBACGA,EAAOyB,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAMvB,GAAlC,SACGmB,KAFIC,EADC,OAQd,SAAC,KAAD,SAKT,C","sources":["pages/Movies/Movies.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { fetchMoviesByName } from \"servises/moviesApi\";\nimport { useSearchParams, Link, useLocation, Outlet } from \"react-router-dom\";\n\nfunction MoviesPage()  {\n  const [movies, setMovie] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get(\"query\");\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query === null || query === \"\") return;\n\n    async function fetchMovies() {\n      const data = await fetchMoviesByName(query);\n      setMovie(data);\n    }\n    fetchMovies();\n  }, [query]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const form = event.target;\n    setSearchParams({ query: form.elements.query.value });\n    form.reset();\n  };\n\n  console.log(movies);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" />\n        <button>Search</button>\n      </form>\n      {movies && (\n        <>\n        <h2>Search</h2>\n          <ul>\n            {movies.map(({ title, id }) => (\n              <li key={id}>\n                <Link to={`${id}`} state={{ from: location }}>\n                  {title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n          <Outlet />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["useState","movies","setMovie","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","fetchMoviesByName","data","fetchMovies","console","log","onSubmit","event","preventDefault","form","target","elements","value","reset","type","name","map","title","id","to","state","from"],"sourceRoot":""}